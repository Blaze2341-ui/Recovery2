<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Recovery Tracker</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.5/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <meta name="theme-color" content="#1e1b4b">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Recovery Tracker">
    <link rel="manifest" href="data:application/json;base64,eyJuYW1lIjoiUmVjb3ZlcnkgVHJhY2tlciIsInNob3J0X25hbWUiOiJSZWNvdmVyeSIsInN0YXJ0X3VybCI6Ii8iLCJkaXNwbGF5Ijoic3RhbmRhbG9uZSIsImJhY2tncm91bmRfY29sb3IiOiIjMWUxYjRiIiwidGhlbWVfY29sb3IiOiIjMWUxYjRiIiwiaWNvbnMiOlt7InNyYyI6ImRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEhOMlp5QjNhV1IwYUQwaU1UQTRBQ0lnYUdWcFoyaDBQU0l4TURBZ0lpQjJhV1YzUW05NFBTSXdJREFnTVRBd0lERXdNQ0lnWm1sc2JEMGlJekkwTkRjME9TSWdlRzFzYm5NOUltaDBkSEE2THk5M2QzY3Vkek11YjNKbkx6SXdNREF2YzNabklpNCtQR052Y21Oc2JHVWdZM2c5SWpVd0lpQmplVDBpTlRBaUlISTlJalEwSWlCbWFXeHNQU0pqZFhKeVpXNTBRMjlzYjNJaUx6NDhMMk55WTJ4bFBqeGphWEpqYkdVZ1kzZzlJalV3SWlCamVUMGlOVEFpSUhJOUlqTXpJaUJtYVd4c1BTSnViMjVsUWdBaElEQ3dRalFoSWlOZk9UZzFPVGRCUXlJdlBqd3ZjM1puUGc9PSIsInR5cGUiOiJpbWFnZS9zdmcreG1sIiwic2l6ZXMiOiIxMDB4MTAwIn1dfQ==">
    <style>
        /* Custom icons using CSS */
        .icon {
            width: 24px;
            height: 24px;
            display: inline-block;
            fill: currentColor;
        }
        .icon-small {
            width: 16px;
            height: 16px;
        }
        .icon-large {
            width: 48px;
            height: 48px;
        }
        
        /* Custom scrollbar for help modal */
        .custom-scrollbar::-webkit-scrollbar {
            width: 6px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
            background: #374151;
            border-radius: 3px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
            background: #6B7280;
            border-radius: 3px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
            background: #9CA3AF;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // Custom SVG icons
        const Icons = {
            Timer: ({ className }) => (
                <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                    <circle cx="12" cy="12" r="10"/>
                    <polyline points="12,6 12,12 16,14"/>
                </svg>
            ),
            Play: ({ className }) => (
                <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                    <polygon points="5,3 19,12 5,21"/>
                </svg>
            ),
            Pause: ({ className }) => (
                <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                    <rect x="6" y="4" width="4" height="16"/>
                    <rect x="14" y="4" width="4" height="16"/>
                </svg>
            ),
            RotateCcw: ({ className }) => (
                <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                    <polyline points="1,4 1,10 7,10"/>
                    <path d="M3.51 15a9 9 0 1 0 2.13-9.36L1 10"/>
                </svg>
            ),
            CheckCircle2: ({ className }) => (
                <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                    <circle cx="12" cy="12" r="10"/>
                    <path d="m9 12 2 2 4-4"/>
                </svg>
            ),
            Circle: ({ className }) => (
                <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                    <circle cx="12" cy="12" r="10"/>
                </svg>
            ),
            Droplets: ({ className }) => (
                <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                    <path d="M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z"/>
                    <path d="M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2.04 4.6 4.14 5.93s3.83 2.34 4.36 4.77c0 3.59-2.91 6.5-6.5 6.5-3.59 0-6.5-2.91-6.5-6.5 0-1.16.21-2.31.56-3.12z"/>
                </svg>
            ),
            Flame: ({ className }) => (
                <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                    <path d="M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z"/>
                </svg>
            ),
            Waves: ({ className }) => (
                <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                    <path d="M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1"/>
                    <path d="M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1"/>
                    <path d="M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1"/>
                </svg>
            ),
            HelpCircle: ({ className }) => (
                <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                    <circle cx="12" cy="12" r="10"/>
                    <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"/>
                    <point cx="12" cy="17"/>
                </svg>
            ),
            X: ({ className }) => (
                <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                    <line x1="18" y1="6" x2="6" y2="18"/>
                    <line x1="6" y1="6" x2="18" y2="18"/>
                </svg>
            ),
            Book: ({ className }) => (
                <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                    <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"/>
                    <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"/>
                </svg>
            )
        };

        // Exercise guidance database
        const exerciseGuide = {
          'cooldown': {
            title: 'Cool-Down Walk & Stretch',
            exercises: {
              'easy-walk': {
                name: 'Easy Walk',
                instructions: [
                  'Walk at a comfortable, conversational pace',
                  'Land on your midfoot, not heel',
                  'Keep your posture upright and relaxed',
                  'Breathe naturally and deeply',
                  'Allow your heart rate to gradually decrease'
                ],
                tips: ['Should feel effortless', 'Can walk indoors or outdoors', 'Focus on relaxation']
              },
              'hamstring-stretch': {
                name: 'Seated Hamstring Stretch',
                instructions: [
                  'Sit on the ground with one leg extended',
                  'Keep the extended leg straight with toes pointing up',
                  'Fold other leg with foot against inner thigh',
                  'Reach toward your toes while keeping back straight',
                  'Hold for 30 seconds, switch legs'
                ],
                tips: ['Don\'t round your back', 'Feel stretch in back of thigh', 'Breathe deeply']
              },
              'quad-stretch': {
                name: 'Standing Quad Stretch',
                instructions: [
                  'Stand on one leg, use wall for balance if needed',
                  'Bend knee and bring heel toward glute',
                  'Hold ankle with same-side hand',
                  'Keep knees together and hips pushed forward',
                  'Hold 30 seconds each leg'
                ],
                tips: ['Don\'t let knee flare out to side', 'Feel stretch in front of thigh', 'Keep standing leg slightly bent']
              },
              'calf-stretch': {
                name: 'Wall Calf Stretch',
                instructions: [
                  'Place hands on wall, arms extended',
                  'Step back leg 2-3 feet from wall',
                  'Keep back leg straight, heel on ground',
                  'Lean forward into wall',
                  'Hold 30 seconds each leg'
                ],
                tips: ['Keep heel firmly planted', 'Back leg should be straight', 'Feel stretch in back of lower leg']
              },
              'hip-flexor-stretch': {
                name: 'Kneeling Hip Flexor Stretch',
                instructions: [
                  'Kneel on one knee in lunge position',
                  'Front foot flat on ground, knee at 90 degrees',
                  'Push hips forward while keeping torso upright',
                  'Place hands on front thigh for support',
                  'Hold 30 seconds each side'
                ],
                tips: ['Keep torso upright', 'Feel stretch in front of hip', 'Use pad under knee if needed']
              },
              'glute-stretch': {
                name: 'Figure 4 Stretch',
                instructions: [
                  'Lie on back with knees bent',
                  'Place one ankle on opposite knee',
                  'Thread hands behind thigh of supporting leg',
                  'Gently pull thigh toward chest',
                  'Hold 30 seconds each side'
                ],
                tips: ['Keep head relaxed on ground', 'Feel stretch in glute/hip', 'Don\'t force the stretch']
              }
            }
          },
          'massage': {
            title: 'Massage Gun Therapy',
            exercises: {
              'massage-quads': {
                name: 'Quad Massage',
                instructions: [
                  'Sit or stand with leg relaxed',
                  'Use soft/medium attachment',
                  'Start at hip and work down to knee',
                  'Move slowly (1 inch per 2-3 seconds)',
                  'Cover outer, middle, and inner quad'
                ],
                tips: ['Don\'t press too hard', 'Avoid bony areas', 'Relax the muscle being worked']
              },
              'massage-hamstrings': {
                name: 'Hamstring Massage',
                instructions: [
                  'Sit with leg extended or lie on stomach',
                  'Start from glute and work toward knee',
                  'Cover all three hamstring muscles',
                  'Use gentle, gliding motions',
                  '60 seconds per leg'
                ],
                tips: ['Support the leg being worked', 'Avoid back of knee', 'Use lighter pressure than quads']
              },
              'massage-calves': {
                name: 'Calf Massage',
                instructions: [
                  'Sit with leg elevated',
                  'Work from ankle up to knee',
                  'Cover both calf muscles (gastrocnemius and soleus)',
                  'Use circular and up-down motions',
                  '45 seconds per leg'
                ],
                tips: ['Point toes up for better access', 'Be gentle on Achilles tendon', 'Work both inner and outer calf']
              },
              'massage-glutes': {
                name: 'Glute Massage',
                instructions: [
                  'Lie on side or stand',
                  'Focus on the meaty part of glute',
                  'Use circular motions',
                  'Work from hip bone to sit bone',
                  '45 seconds each side'
                ],
                tips: ['Avoid tailbone/spine', 'Relax the glute muscle', 'Can be done standing against wall']
              }
            }
          },
          'pool': {
            title: 'Pool Active Recovery',
            exercises: {
              'walking-lunges': {
                name: 'Water Walking Lunges',
                instructions: [
                  'Stand in chest-deep water',
                  'Take large step forward into lunge',
                  'Lower back knee toward pool bottom',
                  'Push back to standing, alternate legs',
                  'Continue for 2 minutes'
                ],
                tips: ['Water supports your weight', 'Move slowly and controlled', 'Focus on form over speed']
              },
              'calf-raises': {
                name: 'Water Calf Raises',
                instructions: [
                  'Stand with feet hip-width apart',
                  'Rise up onto toes, hold briefly',
                  'Lower slowly back down',
                  'Use pool wall for balance if needed',
                  'Continue for 1 minute'
                ],
                tips: ['Rise up slowly', 'Feel stretch at bottom', 'Water resistance helps muscle recovery']
              },
              'high-knees': {
                name: 'High Knees in Place',
                instructions: [
                  'Stand in place in chest-deep water',
                  'Lift knees alternately toward chest',
                  'Keep core engaged',
                  'Pump arms naturally',
                  'Continue for 1 minute'
                ],
                tips: ['Don\'t worry about speed', 'Focus on lifting knees high', 'Let water support you']
              },
              'hip-circles': {
                name: 'Hip Circles & Leg Swings',
                instructions: [
                  'Hold pool wall for support',
                  'Lift one leg and make large circles',
                  'Do 10 circles each direction',
                  'Switch to leg swings forward/back',
                  'Repeat with other leg'
                ],
                tips: ['Move through full range of motion', 'Water provides gentle resistance', 'Keep movements controlled']
              },
              'easy-walking': {
                name: 'Easy Water Walking',
                instructions: [
                  'Walk forward, backward, and sideways',
                  'Keep movements slow and controlled',
                  'Focus on gentle movement',
                  'Can also float on back if comfortable',
                  'Continue for 3-5 minutes'
                ],
                tips: ['Let water support your body weight', 'This is active rest', 'Focus on relaxation']
              }
            }
          },
          'hottub': {
            title: 'Hot Tub Contrast Therapy',
            exercises: {
              'hot-tub-session': {
                name: 'Hot Tub Protocol',
                instructions: [
                  'Enter tub slowly and sit comfortably',
                  'Keep water at 38-40°C (100-104°F)',
                  'Sit for 5 minutes initially',
                  'Exit and cool down for 1-2 minutes',
                  'Return for final 3-5 minutes'
                ],
                tips: ['Hydrate before and after', 'Listen to your body', 'Exit if feeling dizzy']
              },
              'breathing-exercises': {
                name: 'Relaxed Breathing',
                instructions: [
                  'Sit comfortably in the tub',
                  'Breathe in slowly for 4 counts',
                  'Hold breath for 2 counts',
                  'Exhale slowly for 6 counts',
                  'Repeat throughout session'
                ],
                tips: ['Focus on deep belly breaths', 'Let heat penetrate muscles', 'Close eyes to enhance relaxation']
              }
            }
          },
          'sauna': {
            title: 'Sauna Recovery',
            exercises: {
              'sauna-protocol': {
                name: 'Sauna Session',
                instructions: [
                  'Enter sauna after cooling from hot tub',
                  'Sit upright on towel',
                  'Stay 10-15 minutes maximum',
                  'Focus on slow, deep breathing',
                  'Exit if feeling dizzy or uncomfortable'
                ],
                tips: ['Hydrate well beforehand', 'Use only after hard training days', 'Listen to your body']
              },
              'sauna-breathing': {
                name: 'Sauna Breathing',
                instructions: [
                  'Sit with good posture',
                  'Breathe slowly and deeply',
                  'Inhale through nose, exhale through mouth',
                  'Let heat penetrate deep into muscles',
                  'Focus on relaxation'
                ],
                tips: ['Don\'t rush breathing', 'Let sweat happen naturally', 'Stay hydrated']
              }
            }
          },
          'refuel': {
            title: 'Rehydration & Refueling',
            exercises: {
              'hydration': {
                name: 'Proper Hydration',
                instructions: [
                  'Drink 500-750ml within 30 minutes',
                  'Choose water or electrolyte drink',
                  'Sip gradually, don\'t chug',
                  'Monitor urine color (should be pale yellow)',
                  'Continue hydrating throughout day'
                ],
                tips: ['Add electrolytes if sweated heavily', 'Room temperature is often better', 'Don\'t wait until thirsty']
              },
              'recovery-snacks': {
                name: 'Recovery Nutrition',
                instructions: [
                  'Eat within 30-60 minutes post-workout',
                  'Aim for 3:1 or 4:1 carb to protein ratio',
                  'Choose easily digestible options',
                  'Examples: chocolate milk + banana, yogurt + honey + oats',
                  'Follow with balanced meal within 2 hours'
                ],
                tips: ['Don\'t skip this step', 'Real food is often better than supplements', 'Listen to hunger cues']
              }
            }
          },
          'evening': {
            title: 'Evening Yoga & Foam Rolling',
            exercises: {
              'childs-pose': {
                name: 'Child\'s Pose',
                instructions: [
                  'Kneel on floor with big toes touching',
                  'Sit back on heels, knees apart',
                  'Fold forward, arms extended ahead',
                  'Rest forehead on ground',
                  'Hold for 1-2 minutes, breathe deeply'
                ],
                tips: ['Let hips sink toward heels', 'Focus on spinal extension', 'Very relaxing pose']
              },
              'downward-dog-lunge': {
                name: 'Downward Dog to Lunge Flow',
                instructions: [
                  'Start in downward dog (inverted V)',
                  'Step right foot forward into lunge',
                  'Lower back knee to ground',
                  'Hold lunge for 30 seconds',
                  'Step back to downward dog, repeat other side'
                ],
                tips: ['Move slowly between poses', 'Keep front knee over ankle', 'Breathe throughout']
              },
              'spinal-twist': {
                name: 'Seated Spinal Twist',
                instructions: [
                  'Sit with legs extended',
                  'Bend right knee, place foot outside left thigh',
                  'Twist torso right, left elbow against right knee',
                  'Look over right shoulder',
                  'Hold 30 seconds each side'
                ],
                tips: ['Sit tall through spine', 'Twist from core, not just arms', 'Breathe into the twist']
              },
              'supine-hamstring': {
                name: 'Supine Hamstring Stretch',
                instructions: [
                  'Lie on back with knees bent',
                  'Lift one leg, hold behind thigh',
                  'Straighten leg toward ceiling',
                  'Keep other foot on ground',
                  'Hold 30-60 seconds each leg'
                ],
                tips: ['Keep lower back on ground', 'Don\'t force leg straight', 'Use towel around foot if needed']
              },
              'foam-rolling': {
                name: 'Light Foam Rolling',
                instructions: [
                  'Use soft pressure (less than massage gun)',
                  'Roll slowly (1 inch per second)',
                  'Focus on IT band, quads, calves',
                  'Spend 30-60 seconds per area',
                  'Stop on any tender spots for 10-15 seconds'
                ],
                tips: ['Less is more in evening', 'Should feel good, not painful', 'Hydrate after rolling']
              }
            }
          }
        };

        // AI Help Modal Component
        const AIHelpModal = ({ isOpen, onClose, selectedStep }) => {
          const [activeExercise, setActiveExercise] = useState(null);

          useEffect(() => {
            if (isOpen && selectedStep) {
              setActiveExercise(null);
            }
          }, [isOpen, selectedStep]);

          if (!isOpen) return null;

          const stepGuide = selectedStep ? exerciseGuide[selectedStep] : null;

          return React.createElement('div', { 
            className: "fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",
            onClick: (e) => e.target === e.currentTarget && onClose()
          },
            React.createElement('div', { className: "bg-slate-800 rounded-xl max-w-4xl w-full max-h-[90vh] overflow-hidden" },
              React.createElement('div', { className: "flex items-center justify-between p-6 border-b border-slate-700" },
                React.createElement('div', { className: "flex items-center space-x-3" },
                  React.createElement(Icons.Book, { className: "w-6 h-6 text-blue-400" }),
                  React.createElement('h2', { className: "text-2xl font-bold text-white" }, 
                    stepGuide ? `${stepGuide.title} - Exercise Guide` : 'Exercise Guide'
                  )
                ),
                React.createElement('button', {
                  onClick: onClose,
                  className: "p-2 hover:bg-slate-700 rounded-lg transition-colors"
                },
                  React.createElement(Icons.X, { className: "w-6 h-6 text-slate-400" })
                )
              ),
              React.createElement('div', { className: "flex h-[calc(90vh-100px)]" },
                // Exercise list
                React.createElement('div', { className: "w-1/3 border-r border-slate-700 overflow-y-auto custom-scrollbar" },
                  React.createElement('div', { className: "p-4" },
                    React.createElement('h3', { className: "text-lg font-semibold text-white mb-4" }, "Select Exercise"),
                    stepGuide && Object.entries(stepGuide.exercises).map(([key, exercise]) =>
                      React.createElement('button', {
                        key: key,
                        onClick: () => setActiveExercise(exercise),
                        className: `w-full text-left p-3 rounded-lg mb-2 transition-colors ${
                          activeExercise === exercise 
                            ? 'bg-blue-600 text-white' 
                            : 'bg-slate-700 hover:bg-slate-600 text-slate-200'
                        }`
                      },
                        React.createElement('div', { className: "font-medium" }, exercise.name)
                      )
                    )
                  )
                ),
                // Exercise details
                React.createElement('div', { className: "flex-1 overflow-y-auto custom-scrollbar" },
                  React.createElement('div', { className: "p-6" },
                    activeExercise ? (
                      React.createElement('div', null,
                        React.createElement('h3', { className: "text-2xl font-bold text-white mb-6" }, activeExercise.name),
                        React.createElement('div', { className: "mb-6" },
                          React.createElement('h4', { className: "text-lg font-semibold text-blue-400 mb-3" }, "Instructions"),
                          React.createElement('ol', { className: "space-y-2" },
                            activeExercise.instructions.map((instruction, index) =>
                              React.createElement('li', { 
                                key: index, 
                                className: "text-slate-300 flex items-start" 
                              },
                                React.createElement('span', { className: "bg-blue-600 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm mr-3 mt-0.5 flex-shrink-0" }, index + 1),
                                instruction
                              )
                            )
                          )
                        ),
                        React.createElement('div', null,
                          React.createElement('h4', { className: "text-lg font-semibold text-green-400 mb-3" }, "Pro Tips"),
                          React.createElement('ul', { className: "space-y-2" },
                            activeExercise.tips.map((tip, index) =>
                              React.createElement('li', { 
                                key: index, 
                                className: "text-slate-300 flex items-start" 
                              },
                                React.createElement('span', { className: "text-green-400 mr-2 mt-1 flex-shrink-0" }, "•"),
                                tip
                              )
                            )
                          )
                        )
                      )
                    ) : (
                      React.createElement('div', { className: "text-center text-slate-400 mt-20" },
                        React.createElement(Icons.HelpCircle, { className: "w-16 h-16 mx-auto mb-4 text-slate-500" }),
                        React.createElement('p', { className: "text-lg" }, "Select an exercise from the list to see detailed instructions")
                      )
                    )
                  )
                )
              )
            )
          );
        };

        const RecoveryApp = () => {
          const [isStarted, setIsStarted] = useState(false);
          const [activeTimer, setActiveTimer] = useState(null);
          const [timeLeft, setTimeLeft] = useState(0);
          const [completedActivities, setCompletedActivities] = useState({});
          const [isRunning, setIsRunning] = useState(false);
          const [showHelpModal, setShowHelpModal] = useState(false);
          const [selectedHelpStep, setSelectedHelpStep] = useState(null);

          const recoverySteps = [
            {
              id: 'cooldown',
              title: 'Cool-Down Walk & Stretch',
              duration: 600, // 10 minutes
              icon: 'Timer',
              color: 'from-blue-500 to-cyan-500',
              goal: 'Lower heart rate & prevent stiffness',
              activities: [
                '5-minute walk at an easy pace',
                'Hamstrings - Seated reach (30 sec per leg)',
                'Quads - Standing/side-lying quad stretch (30 sec per leg)',
                'Calves - Wall or step calf stretch (30 sec per leg)',
                'Hip Flexors - Kneeling hip flexor stretch (30 sec per leg)',
                'Glutes - Figure 4 stretch or pigeon pose (30 sec per leg)'
              ]
            },
            {
              id: 'massage',
              title: 'Massage Gun',
              duration: 450, // 7.5 minutes
              icon: 'Circle',
              color: 'from-purple-500 to-pink-500',
              goal: 'Loosen tight muscles and improve blood flow',
              activities: [
                'Quads (60 sec per leg)',
                'Hamstrings (60 sec per leg)',
                'Calves (45 sec per leg)',
                'Glutes (45 sec each side)',
                'Use soft/medium attachment with slow, gliding motion'
              ]
            },
            {
              id: 'pool',
              title: 'Pool Active Recovery',
              duration: 540, // 9 minutes
              icon: 'Waves',
              color: 'from-cyan-500 to-blue-600',
              goal: 'Promote circulation, reduce stiffness (28°C)',
              activities: [
                '2 mins walking lunges',
                '1 min calf raises',
                '1 min high knees in place',
                '1 min hip circles or leg swings',
                '3-5 mins easy walking or floating'
              ]
            },
            {
              id: 'hottub',
              title: 'Hot Tub Contrast',
              duration: 600, // 10 minutes
              icon: 'Droplets',
              color: 'from-orange-500 to-red-500',
              goal: 'Boost circulation and muscle repair (38-40°C)',
              activities: [
                'Sit for 5 minutes',
                'Exit for 1-2 minutes (cool down)',
                'Return for another 3-5 minutes',
                'Focus on relaxed breathing'
              ]
            },
            {
              id: 'sauna',
              title: 'Sauna (Optional)',
              duration: 900, // 15 minutes
              icon: 'Flame',
              color: 'from-red-500 to-yellow-500',
              goal: 'Deep recovery, muscle relaxation (hard run days only)',
              activities: [
                'Stay 10-15 minutes max',
                'Sit upright, breathe slowly',
                'Hydrate before and after'
              ]
            },
            {
              id: 'refuel',
              title: 'Rehydrate & Refuel',
              duration: 0, // No timer needed
              icon: 'Droplets',
              color: 'from-green-500 to-emerald-500',
              goal: 'Kickstart muscle repair and rehydrate (ASAP)',
              activities: [
                'Drink 500-750ml water or electrolyte drink',
                'Recovery snack options:',
                '• Chocolate milk + banana',
                '• Yogurt + honey + oats',
                '• Protein shake + fruit'
              ]
            },
            {
              id: 'evening',
              title: 'Evening Yoga/Foam Rolling',
              duration: 1050, // 17.5 minutes
              icon: 'Circle',
              color: 'from-indigo-500 to-purple-500',
              goal: 'Wind down, improve flexibility (Optional)',
              activities: [
                'Child\'s pose',
                'Downward dog to lunge',
                'Spinal twist',
                'Supine hamstring stretch',
                'Light foam rolling if needed'
              ]
            }
          ];

          useEffect(() => {
            let interval = null;
            if (isRunning && timeLeft > 0) {
              interval = setInterval(() => {
                setTimeLeft(timeLeft - 1);
              }, 1000);
            } else if (timeLeft === 0 && isRunning) {
              setIsRunning(false);
              setActiveTimer(null);
              if (activeTimer) {
                setCompletedActivities(prev => ({
                  ...prev,
                  [activeTimer]: true
                }));
              }
            }
            return () => clearInterval(interval);
          }, [isRunning, timeLeft, activeTimer]);

          const formatTime = (seconds) => {
            const minutes = Math.floor(seconds / 60);
            const remainingSeconds = seconds % 60;
            return `${minutes}:${remainingSeconds.toString().padStart(2, '0')}`;
          };

          const startTimer = (stepId, duration) => {
            if (activeTimer === stepId && isRunning) {
              setIsRunning(false);
            } else {
              setActiveTimer(stepId);
              if (activeTimer !== stepId) {
                setTimeLeft(duration);
              }
              setIsRunning(true);
            }
          };

          const resetTimer = (stepId, duration) => {
            setTimeLeft(duration);
            setIsRunning(false);
            if (activeTimer === stepId) {
              setActiveTimer(null);
            }
          };

          const toggleComplete = (stepId) => {
            setCompletedActivities(prev => ({
              ...prev,
              [stepId]: !prev[stepId]
            }));
          };

          const openHelp = (stepId = null) => {
            setSelectedHelpStep(stepId);
            setShowHelpModal(true);
          };

          const closeHelp = () => {
            setShowHelpModal(false);
            setSelectedHelpStep(null);
          };

          const completedCount = Object.values(completedActivities).filter(Boolean).length;
          const totalSteps = recoverySteps.length;
          const progressPercentage = (completedCount / totalSteps) * 100;

          if (!isStarted) {
            return React.createElement('div', { className: "min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center p-4" },
              React.createElement('div', { className: "text-center max-w-md" },
                React.createElement('div', { className: "mb-8" },
                  React.createElement('div', { className: "w-24 h-24 mx-auto mb-6 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center" },
                    React.createElement(Icons.Timer, { className: "w-12 h-12 text-white" })
                  ),
                  React.createElement('h1', { className: "text-4xl font-bold text-white mb-4" }, "Recovery Tracker"),
                  React.createElement('p', { className: "text-slate-300 text-lg mb-6" }, "Complete your post-run recovery routine with guided timers and progress tracking")
                ),
                React.createElement('div', { className: "space-y-4" },
                  React.createElement('button', {
                    onClick: () => setIsStarted(true),
                    className: "w-full bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white font-bold py-4 px-8 rounded-xl text-lg transform transition-all duration-200 hover:scale-105 shadow-lg"
                  }, "Start Recovery Process"),
                  React.createElement('button', {
                    onClick: () => openHelp(),
                    className: "w-full bg-slate-700 hover:bg-slate-600 text-white font-bold py-4 px-8 rounded-xl text-lg transform transition-all duration-200 hover:scale-105 shadow-lg flex items-center justify-center space-x-2"
                  }, 
                    React.createElement(Icons.HelpCircle, { className: "w-5 h-5" }),
                    React.createElement('span', null, "Exercise Help Guide")
                  )
                )
              ),
              React.createElement(AIHelpModal, {
                isOpen: showHelpModal,
                onClose: closeHelp,
                selectedStep: selectedHelpStep
              })
            );
          }

          return React.createElement('div', { className: "min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 p-4" },
            React.createElement('div', { className: "max-w-4xl mx-auto" },
              React.createElement('div', { className: "text-center mb-8" },
                React.createElement('h1', { className: "text-3xl font-bold text-white mb-4" }, "Recovery Progress"),
                React.createElement('div', { className: "bg-slate-800 rounded-xl p-4 mb-6" },
                  React.createElement('div', { className: "flex justify-between items-center mb-2" },
                    React.createElement('span', { className: "text-slate-300" }, "Overall Progress"),
                    React.createElement('span', { className: "text-white font-bold" }, `${completedCount}/${totalSteps}`)
                  ),
                  React.createElement('div', { className: "w-full bg-slate-700 rounded-full h-3" },
                    React.createElement('div', {
                      className: "bg-gradient-to-r from-green-500 to-blue-500 h-3 rounded-full transition-all duration-500",
                      style: { width: `${progressPercentage}%` }
                    })
                  )
                )
              ),
              React.createElement('div', { className: "space-y-4" },
                recoverySteps.map((step) => {
                  const IconComponent = Icons[step.icon];
                  return React.createElement('div', { key: step.id, className: "bg-slate-800 rounded-xl p-6 shadow-lg border border-slate-700" },
                    React.createElement('div', { className: "flex items-start justify-between mb-4" },
                      React.createElement('div', { className: "flex items-center space-x-3" },
                        React.createElement('button', {
                          onClick: () => toggleComplete(step.id),
                          className: "flex-shrink-0"
                        },
                          completedActivities[step.id] 
                            ? React.createElement(Icons.CheckCircle2, { className: "w-6 h-6 text-green-500" })
                            : React.createElement(Icons.Circle, { className: "w-6 h-6 text-slate-400 hover:text-slate-200" })
                        ),
                        React.createElement('div', { className: `p-2 rounded-lg bg-gradient-to-r ${step.color}` }, 
                          React.createElement(IconComponent, { className: "w-6 h-6 text-white" })
                        ),
                        React.createElement('div', null,
                          React.createElement('div', { className: "flex items-center space-x-2" },
                            React.createElement('h3', { className: "text-xl font-bold text-white" }, step.title),
                            React.createElement('button', {
                              onClick: () => openHelp(step.id),
                              className: "p-1 hover:bg-slate-700 rounded transition-colors",
                              title: "Get exercise help"
                            },
                              React.createElement(Icons.HelpCircle, { className: "w-4 h-4 text-blue-400 hover:text-blue-300" })
                            )
                          ),
                          React.createElement('p', { className: "text-slate-300 text-sm" }, step.goal)
                        )
                      ),
                      step.duration > 0 && React.createElement('div', { className: "flex items-center space-x-2" },
                        React.createElement('div', { className: "text-right" },
                          React.createElement('div', { className: "text-2xl font-bold text-white" },
                            activeTimer === step.id ? formatTime(timeLeft) : formatTime(step.duration)
                          )
                        ),
                        React.createElement('div', { className: "flex flex-col space-y-1" },
                          React.createElement('button', {
                            onClick: () => startTimer(step.id, step.duration),
                            className: `p-2 rounded-lg ${
                              activeTimer === step.id && isRunning 
                                ? 'bg-orange-500 hover:bg-orange-600' 
                                : 'bg-green-500 hover:bg-green-600'
                            } text-white transition-colors`
                          },
                            activeTimer === step.id && isRunning 
                              ? React.createElement(Icons.Pause, { className: "w-4 h-4" }) 
                              : React.createElement(Icons.Play, { className: "w-4 h-4" })
                          ),
                          React.createElement('button', {
                            onClick: () => resetTimer(step.id, step.duration),
                            className: "p-2 rounded-lg bg-slate-600 hover:bg-slate-500 text-white transition-colors"
                          },
                            React.createElement(Icons.RotateCcw, { className: "w-4 h-4" })
                          )
                        )
                      )
                    ),
                    React.createElement('div', { className: "ml-9" },
                      React.createElement('ul', { className: "space-y-2" },
                        step.activities.map((activity, index) => 
                          React.createElement('li', { key: index, className: "text-slate-300 flex items-start" },
                            React.createElement('span', { className: "text-slate-500 mr-2" }, "•"),
                            activity
                          )
                        )
                      )
                    ),
                    activeTimer === step.id && React.createElement('div', { className: "mt-4 ml-9" },
                      React.createElement('div', { className: "bg-slate-700 rounded-full h-2" },
                        React.createElement('div', {
                          className: `bg-gradient-to-r ${step.color} h-2 rounded-full transition-all duration-1000`,
                          style: { width: `${((step.duration - timeLeft) / step.duration) * 100}%` }
                        })
                      )
                    )
                  );
                })
              ),
              completedCount === totalSteps && React.createElement('div', { className: "mt-8 bg-gradient-to-r from-green-500 to-blue-500 rounded-xl p-6 text-center" },
                React.createElement(Icons.CheckCircle2, { className: "w-12 h-12 text-white mx-auto mb-4" }),
                React.createElement('h2', { className: "text-2xl font-bold text-white mb-2" }, "Recovery Complete!"),
                React.createElement('p', { className: "text-green-100" }, "Great job completing your full recovery routine. Your body will thank you!")
              ),
              React.createElement('div', { className: "mt-8 text-center space-y-3" },
                React.createElement('button', {
                  onClick: () => openHelp(),
                  className: "bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-lg transition-colors mr-4"
                }, "Exercise Help Guide"),
                React.createElement('button', {
                  onClick: () => {
                    setIsStarted(false);
                    setCompletedActivities({});
                    setActiveTimer(null);
                    setTimeLeft(0);
                    setIsRunning(false);
                  },
                  className: "bg-slate-700 hover:bg-slate-600 text-white font-bold py-3 px-6 rounded-lg transition-colors"
                }, "Start New Recovery Session")
              )
            ),
            React.createElement(AIHelpModal, {
              isOpen: showHelpModal,
              onClose: closeHelp,
              selectedStep: selectedHelpStep
            })
          );
        };

        ReactDOM.render(React.createElement(RecoveryApp), document.getElementById('root'));
    </script>
</body>
</html>